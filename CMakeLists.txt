cmake_minimum_required(VERSION 3.17)

project(Compiler VERSION "0.0.0")

set(CMAKE_CXX_STANDARD 17)

#set(COMPILE_DEFINITIONS "_SILENCE_CXX17_ITERATOR_BASE_CLASS_DEPRECATION_WARNING=1;_HAS_EXCEPTIONS=0")
add_definitions(-D_SILENCE_CXX17_ITERATOR_BASE_CLASS_DEPRECATION_WARNING=1 -D_HAS_EXCEPTIONS=0)

set(LLVM_TARGETS_TO_BUILD "X86" CACHE INTERNAL "")

option(LLVM_ENABLE_BINDINGS OFF)
option(LLVM_INCLUDE_RUNTIMES OFF)
option(LLVM_INCLUDE_DOCS OFF)
option(LLVM_INCLUDE_EXAMPLES OFF)
option(LLVM_INCLUDE_TESTS OFF)
option(LLVM_INCLUDE_TOOLS OFF)
option(LLVM_INCLUDE_UTILS OFF)
option(LLVM_INCLUDE_BENCHMARKS OFF)
option(LLVM_ENABLE_DUMP ON)
option(LLVM_OPTIMIZED_TABLEGEN ON)

add_subdirectory(llvm-project/llvm EXCLUDE_FROM_ALL)

add_subdirectory(src)
